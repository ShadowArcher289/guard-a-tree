[gd_scene load_steps=23 format=3 uid="uid://cpl1hoahnr1l2"]

[ext_resource type="Script" uid="uid://ceh0ree500o4x" path="res://scripts/game.gd" id="1_1kice"]
[ext_resource type="Texture2D" uid="uid://bjsr4iucavdu1" path="res://sprites/Cloud.png" id="2_1kice"]
[ext_resource type="Texture2D" uid="uid://cxbuqkaoam6f0" path="res://sprites/HPBarFilling.png" id="6_ca42v"]
[ext_resource type="PackedScene" uid="uid://w2ej12ndkpyd" path="res://scenes/kitbook.tscn" id="12_dinhu"]
[ext_resource type="Texture2D" uid="uid://cp8k6h6wxm3pe" path="res://sprites/OpenKitbookIcon.png" id="13_ir15t"]
[ext_resource type="Texture2D" uid="uid://bbovxhcvyylvl" path="res://sprites/HPBarOutline.png" id="13_trtic"]
[ext_resource type="Texture2D" uid="uid://1i64tom0r740" path="res://sprites/OpenKitbookIconSelected.png" id="14_ca42v"]
[ext_resource type="Texture2D" uid="uid://bfugb62al3ijv" path="res://sprites/OpenKitbookIconDarkened.png" id="14_ir15t"]
[ext_resource type="PackedScene" uid="uid://d3pjwmh032pks" path="res://scenes/game_over.tscn" id="15_rysoc"]
[ext_resource type="PackedScene" uid="uid://dw3tn24lhtgf4" path="res://scenes/flies_machine.tscn" id="16_ca42v"]
[ext_resource type="Texture2D" uid="uid://dek7kn8nb3i6v" path="res://sprites/Leaf.png" id="16_rysoc"]
[ext_resource type="Texture2D" uid="uid://hplddjjlf4og" path="res://sprites/Namecard.png" id="16_ssvqc"]
[ext_resource type="PackedScene" uid="uid://b80102o80d8uc" path="res://scenes/ground.tscn" id="17_rysoc"]
[ext_resource type="Texture2D" uid="uid://4etivflmosu6" path="res://sprites/Seed.png" id="17_ssvqc"]
[ext_resource type="PackedScene" uid="uid://c3ymsfjxpphwu" path="res://scenes/water_can.tscn" id="18_1kice"]
[ext_resource type="PackedScene" uid="uid://bsxdj218sh5mw" path="res://scenes/boot.tscn" id="18_264po"]
[ext_resource type="PackedScene" uid="uid://j4y3ddhxr3l3" path="res://scenes/spawner.tscn" id="18_ssvqc"]
[ext_resource type="PackedScene" uid="uid://4yx14a34ap3g" path="res://scenes/laser_turret.tscn" id="19_264po"]

[sub_resource type="Animation" id="Animation_rysoc"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, -755)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Seed:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(583, -890)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Seed:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [0.692896]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Seed:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}

[sub_resource type="Animation" id="Animation_ssvqc"]
resource_name = "Start_Endless"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, -755), Vector2(0, -755), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Seed:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(583, -890), Vector2(583, -423), Vector2(583, 650)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Seed:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.533333, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.692896, 2.32478, 4.28304, 7.33038]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Seed:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="Animation" id="Animation_ca42v"]
resource_name = "Start"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Camera2D:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(0, -755), Vector2(0, -755), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Seed:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.1, 1),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector2(583, -890), Vector2(583, -423), Vector2(583, 650)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("Seed:rotation")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.1, 0.533333, 1),
"transitions": PackedFloat32Array(1, 1, 1, 1),
"update": 0,
"values": [0.692896, 2.32478, 4.28304, 7.33038]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("Seed:visible")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 1,
"values": [true, false]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_ssvqc"]
_data = {
&"RESET": SubResource("Animation_rysoc"),
&"Start_Endless": SubResource("Animation_ssvqc"),
&"Start_Tutorial": SubResource("Animation_ca42v")
}

[node name="Game" type="Node2D"]
script = ExtResource("1_1kice")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, -755)
anchor_mode = 0

[node name="ColorRect" type="ColorRect" parent="."]
offset_left = -59.0
offset_top = -1336.0
offset_right = 1210.0
offset_bottom = 681.0
color = Color(0.207843, 0.647059, 0.854902, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_ssvqc")
}

[node name="Seed" type="Sprite2D" parent="."]
position = Vector2(583, -890)
rotation = 0.692896
texture = ExtResource("17_ssvqc")

[node name="Ground" parent="." instance=ExtResource("17_rysoc")]
position = Vector2(581, 618)

[node name="Clouds" type="Node" parent="."]

[node name="Cloud" type="Sprite2D" parent="Clouds"]
position = Vector2(961, 115)
texture = ExtResource("2_1kice")

[node name="Cloud2" type="Sprite2D" parent="Clouds"]
position = Vector2(226, 65)
texture = ExtResource("2_1kice")

[node name="Cloud3" type="Sprite2D" parent="Clouds"]
position = Vector2(206, -719)
texture = ExtResource("2_1kice")

[node name="Cloud4" type="Sprite2D" parent="Clouds"]
position = Vector2(377, -234)
texture = ExtResource("2_1kice")

[node name="Cloud5" type="Sprite2D" parent="Clouds"]
position = Vector2(899, -551)
texture = ExtResource("2_1kice")

[node name="Weapons" type="Node" parent="."]

[node name="Turrets" type="Node" parent="Weapons"]

[node name="LaserTurret" parent="Weapons/Turrets" instance=ExtResource("19_264po")]
position = Vector2(763, 609)

[node name="LaserTurret2" parent="Weapons/Turrets" instance=ExtResource("19_264po")]
z_index = 2
position = Vector2(964, 155)
location = "ceiling"

[node name="LaserTurret3" parent="Weapons/Turrets" instance=ExtResource("19_264po")]
position = Vector2(384, 609)

[node name="LaserTurret4" parent="Weapons/Turrets" instance=ExtResource("19_264po")]
z_index = 2
position = Vector2(222, 108)
location = "ceiling"

[node name="FLIES" type="Node" parent="Weapons"]

[node name="FliesMachine" parent="Weapons/FLIES" instance=ExtResource("16_ca42v")]
position = Vector2(187, 609)

[node name="FliesMachine2" parent="Weapons/FLIES" instance=ExtResource("16_ca42v")]
position = Vector2(996, 609)

[node name="Boot" parent="Weapons" instance=ExtResource("18_264po")]
z_index = 3
position = Vector2(1715, -176)

[node name="TermiteSpawner1" parent="." instance=ExtResource("18_ssvqc")]
position = Vector2(-139, 544)

[node name="TermiteSpawner2" parent="." instance=ExtResource("18_ssvqc")]
position = Vector2(1297, 570)

[node name="TermiCopterSpawner1" parent="." instance=ExtResource("18_ssvqc")]
position = Vector2(-108, 204)
spawnerType = "termi_copter"

[node name="TermiCopterSpawner2" parent="." instance=ExtResource("18_ssvqc")]
position = Vector2(1300, 190)
spawnerType = "termi_copter"

[node name="HpBar" type="TextureProgressBar" parent="."]
z_index = 5
offset_left = 133.0
offset_top = 22.0
offset_right = 1133.0
offset_bottom = 86.0
scale = Vector2(0.9, 0.9)
rounded = true
texture_under = ExtResource("13_trtic")
texture_progress = ExtResource("6_ca42v")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Kitbook" parent="CanvasLayer" instance=ExtResource("12_dinhu")]
visible = false
z_index = 5
metadata/_edit_use_anchors_ = true

[node name="ToggleKitbookButton" type="TextureButton" parent="CanvasLayer"]
process_mode = 3
z_index = 12
anchors_preset = 1
anchor_left = 1.0
anchor_right = 1.0
offset_left = -115.0
offset_top = 16.0
offset_right = -23.0
offset_bottom = 108.0
grow_horizontal = 0
size_flags_horizontal = 8
toggle_mode = true
texture_normal = ExtResource("13_ir15t")
texture_pressed = ExtResource("14_ir15t")
texture_hover = ExtResource("14_ca42v")
stretch_mode = 5

[node name="GameOver" parent="CanvasLayer" instance=ExtResource("15_rysoc")]
visible = false

[node name="ResetButton" type="Button" parent="CanvasLayer"]
process_mode = 3
z_index = 15
offset_left = 32.0
offset_top = 34.0
offset_right = 83.0
offset_bottom = 65.0
text = "Reset"

[node name="TreeSpawner" parent="." instance=ExtResource("18_ssvqc")]
position = Vector2(581, 603)
spawnerType = "tree"

[node name="TermiteSpawnTimer" type="Timer" parent="."]
one_shot = true

[node name="TermiCopterSpawnTimer" type="Timer" parent="."]
one_shot = true

[node name="Leaves" type="Node" parent="."]

[node name="Leaf" type="Sprite2D" parent="Leaves"]
position = Vector2(53, 50)
texture = ExtResource("16_rysoc")

[node name="LeafCountLabel" type="Label" parent="Leaves"]
offset_left = 88.0
offset_top = 28.0
offset_right = 129.0
offset_bottom = 70.0
theme_override_constants/outline_size = 10
theme_override_font_sizes/font_size = 30
text = "32"
vertical_alignment = 1

[node name="TreeNameLabel" type="Label" parent="."]
z_index = 1
offset_left = 532.0
offset_top = 598.0
offset_right = 630.0
offset_bottom = 633.0
theme_override_constants/outline_size = 12
theme_override_font_sizes/font_size = 16
horizontal_alignment = 1
vertical_alignment = 1

[node name="SetTreeNameCard" type="Sprite2D" parent="."]
process_mode = 3
z_index = 8
position = Vector2(575, 321)
texture = ExtResource("16_ssvqc")

[node name="TextEdit" type="TextEdit" parent="SetTreeNameCard"]
offset_left = -152.0
offset_top = -34.0
offset_right = 154.0
offset_bottom = 62.0
placeholder_text = "Name"

[node name="ConfirmBtn" type="Button" parent="SetTreeNameCard"]
offset_left = 93.0
offset_top = 70.0
offset_right = 164.0
offset_bottom = 101.0
text = "Confirm"

[node name="EndOfTutorialCard" type="Sprite2D" parent="."]
process_mode = 3
z_index = 8
position = Vector2(575, 321)
texture = ExtResource("16_ssvqc")

[node name="ColorRect" type="ColorRect" parent="EndOfTutorialCard"]
offset_left = -155.0
offset_top = -93.0
offset_right = 156.0
offset_bottom = -29.0
color = Color(0.858824, 0.709804, 0.509804, 1)

[node name="EndOFTutorialLabel" type="Label" parent="EndOfTutorialCard"]
offset_left = -165.0
offset_top = -79.0
offset_right = 162.0
offset_bottom = 51.0
theme_override_constants/outline_size = 12
theme_override_font_sizes/font_size = 36
text = "This is the end of the tutorial!"
horizontal_alignment = 1
vertical_alignment = 1
autowrap_mode = 2

[node name="ContinueBtn" type="Button" parent="EndOfTutorialCard"]
offset_left = 73.0
offset_top = 60.0
offset_right = 152.0
offset_bottom = 91.0
text = "Continue"

[node name="WaterCan" parent="." instance=ExtResource("18_1kice")]
offset_left = 1.5258789e-05
offset_top = 497.0
offset_right = 128.00002
offset_bottom = 625.0

[connection signal="toggled" from="CanvasLayer/ToggleKitbookButton" to="." method="_on_toggle_kitbook_button_toggled"]
[connection signal="pressed" from="CanvasLayer/ResetButton" to="." method="_on_reset_button_pressed"]
